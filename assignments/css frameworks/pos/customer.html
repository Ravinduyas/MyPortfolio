<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PO System</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1>PO System</h1>
        <!-- Customer Management Section -->
        <div class="mb-4">
            <h2>Manage Customer</h2>
            <button class="btn btn-primary" onclick="openDataCollection('register')">Register Customer</button>
            <button class="btn btn-danger" onclick="openDataCollection('unregister')">Unregister Customer</button>
            <button class="btn btn-info" onclick="openDataCollection('find')">Find Customer</button>
            <button class="btn btn-warning" onclick="openDataCollection('update')">Update Customer</button>
            <button class="btn btn-success" onclick="openDataCollection('getAll')">Get All Customers</button>
        </div>

        <!-- Customer Table -->
        <div id="customerTable">
            <h2>Customer Table</h2>
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">Customer Name</th>
                        <th scope="col">Customer ID</th>
                        <th scope="col">Address</th>
                        <th scope="col">Salary</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Customer data will be displayed here -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        function openDataCollection(action) {
            var newWindow = window.open('', '_blank', 'width=400,height=400');
            newWindow.document.write('<html><head><title>Data Collection</title>');
            newWindow.document.write('<link href="https://cdn.jsdelivr.net/npm/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">');
            newWindow.document.write('</head><body>');

            // Display data collection fields based on the action
            if (action !== 'getAll') {
                newWindow.document.write('<h2>Data Collection</h2>');
                newWindow.document.write('<div class="form-group">');
                newWindow.document.write('<label for="customerName">Customer Name</label>');
                newWindow.document.write('<input type="text" class="form-control" id="customerName" placeholder="Enter customer name">');
                newWindow.document.write('</div>');
                newWindow.document.write('<div class="form-group">');
                newWindow.document.write('<label for="customerId">Customer ID</label>');
                newWindow.document.write('<input type="text" class="form-control" id="customerId" placeholder="Enter customer ID">');
                newWindow.document.write('</div>');
                newWindow.document.write('<div class="form-group">');
                newWindow.document.write('<label for="customerAddress">Address</label>');
                newWindow.document.write('<input type="text" class="form-control" id="customerAddress" placeholder="Enter customer address">');
                newWindow.document.write('</div>');
                newWindow.document.write('<div class="form-group">');
                newWindow.document.write('<label for="customerSalary">Salary</label>');
                newWindow.document.write('<input type="text" class="form-control" id="customerSalary" placeholder="Enter customer salary">');
                newWindow.document.write('</div>');
                newWindow.document.write('<button class="btn btn-primary" onclick="submitData()">Submit</button>');
            }

            newWindow.document.write('</body></html>');
            newWindow.document.close();
        }

        function submitData() {
            // Collect data from the new window
            var customerName = document.getElementById('customerName').value;
            var customerId = document.getElementById('customerId').value;
            var customerAddress = document.getElementById('customerAddress').value;
            var customerSalary = document.getElementById('customerSalary').value;

            // Create a new row in the customer table in the main window
            var table = window.opener.document.getElementById('customerTable').getElementsByTagName('tbody')[0];
            var newRow = table.insertRow(table.rows.length);
            var cell1 = newRow.insertCell(0);
            var cell2 = newRow.insertCell(1);
            var cell3 = newRow.insertCell(2);
            var cell4 = newRow.insertCell(3);

            // Populate the new row with data
            cell1.innerHTML = customerName;
            cell2.innerHTML = customerId;
            cell3.innerHTML = customerAddress;
            cell4.innerHTML = customerSalary;

            // Close the new window
            window.close();
        }
    </script>
</body>
</html>
